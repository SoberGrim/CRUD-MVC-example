<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="UTF-8">
        <title>Users</title>
    </head>
    <body>

    <script>
        addEventListener("keydown", function(event) {
            switch(event.keyCode) {
                case 78:
                case 67: location.href += '/new'; break;
                case 70: location.href += '/filter'; break;
                case 83: location.href += '/search'; break;
                case 82: location.href += '/removeFilter'; break;
                case 72: location.href = '/welcome'; break;
                case 77:
                case 85: location.href = '/user'; break;
                case 76: location.href = '/logout'; break;
            }
        });
    </script>

        <table th:border="1">
            <tr>
                <th>Name</th>
                <th>Lastname</th>
                <th>Age</th>
                <th>Email</th>
                <th>Username</th>
                <th>Roles</th>
                <th colspan="3">Action</th>
            </tr>
            <tr th:each="user : ${users}">
                <td th:text="${user.getFirstname()}">name</td>
                <td th:text="${user.getLastname()}">lastname</td>
                <td th:text="${user.getAge()}">age</td>
                <td th:text="${user.getEmail()}">email</td>
                <td th:text="${user.getUsername()}">username</td>
                <td th:text="${user.getUserRoles()}">roles</td>
                <td><a th:href="@{/admin/{id}(id=${user.getId()})}">Info</a></td>
                <td><a th:href="@{/admin/{id}/edit(id=${user.getId()})}">Edit</a></td>
                <td><a th:href="@{/admin/delete={id}(id=${user.getId()})}">Delete</a></td>
            </tr>

            <tr th:if="${(users.size()<=0)&&isFilterActive}">
                <td>-</td>
                <td>-</td>
                <td>-</td>
                <td>-</td>
                <td>-</td>
                <td>-</td>
                <td><a>Info</a></td>
                <td><a>Edit</a></td>
                <td><a>Delete</a></td>
            </tr>
        </table>

        <label th:if="${(users.size()<=0)&&isFilterActive}"><br>No entries found<br><br></label>
        <br>
    <button type="button" onclick="location.href += '/new';">New User</button>
        <button type="button" onclick="location.href += '/filter';">Filter</button>
        <button type="button" onclick="location.href += '/search';">Search</button>
        <button th:if="${isFilterActive}" type="button" onclick="location.href += '/removeFilter';">Remove Filter</button>
        <br><br>

        <button type="button" onclick="location.href = '/welcome';">Homepage</button>
        <button type="button" onclick="location.href = '/user';">My profile</button>
        <button type="button" onclick="location.href = '/logout';">Logout</button>
    </body>
</html>